PivotViewer.Views.TileBasedView=PivotViewer.Views.IPivotViewerView.subClass({activate:function(){this._super();$(".pv-toolbarpanel-zoomslider").fadeIn();$(".pv-toolbarpanel-zoomcontrols").css("border-width","1px");$("#MAIN_BODY").css("overflow","auto");$(".pv-toolbarpanel-sort").fadeIn();$(".pv-canvas").fadeIn()},deactivate:function(){this._super();$(".pv-toolbarpanel-zoomslider").fadeOut();$(".pv-toolbarpanel-sort").fadeOut();$(".pv-canvas").fadeOut()},offsetTiles:function(n,t){for(var i=0;i<this.filterList.length;i++)this.filterList[i]._locations[0].destinationx+=n,this.filterList[i]._locations[0].destinationy+=t},calculateDimensions:function(n,t,i,r){var e=.9,s=i*(r-e*e),o=(t+n*i)*e,l=-1*t*n,u=(-1*o+Math.sqrt(o*o-4*s*l))/(2*s),f=Math.floor(u*i),h=Math.floor(t/f),c=n>u?Math.floor(n/u):1,a=n-c*u,v=t-h*f;return f<3&&(f=3),{Rows:h,Columns:c,TileMaxWidth:u,TileHeight:f,PaddingX:a,PaddingY:v}},getTileDimensions:function(n,t,i,r,u){var f=.9,s=i*(r-f*f),e=(t+n*i)*f,c=-1*t*n,o=(-1*e+Math.sqrt(e*e-4*s*c))/(2*s),h=Math.floor(o*i),l=n-u.Columns*o,a=t-u.Rows*h;return{Rows:u.Rows,Columns:u.Columns,TileMaxWidth:o,TileHeight:h,PaddingX:l,PaddingY:a}}});
